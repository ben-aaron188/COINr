<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Check iMeta — check_iMeta • COINr</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Check iMeta — check_iMeta"><meta property="og:description" content="Checks the format of iMeta input to new_coin(). This performs a series of thorough checks to make sure
that iMeta agrees with the specifications. This also includes checks to make sure the structure makes
sense, there are no duplicates, and other things. iMeta must pass this check to build a new coin."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">COINr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/adjustments.html">Adjustments and Comparisons</a>
    </li>
    <li>
      <a href="../articles/aggregate.html">Aggregation</a>
    </li>
    <li>
      <a href="../articles/analysis.html">Analysis</a>
    </li>
    <li>
      <a href="../articles/coins.html">Building coins</a>
    </li>
    <li>
      <a href="../articles/data_selection.html">Data selection</a>
    </li>
    <li>
      <a href="../articles/denomination.html">Denomination</a>
    </li>
    <li>
      <a href="../articles/imputation.html">Imputation</a>
    </li>
    <li>
      <a href="../articles/normalise.html">Normalisation</a>
    </li>
    <li>
      <a href="../articles/other_functions.html">Other Functions</a>
    </li>
    <li>
      <a href="../articles/overview.html">Overview</a>
    </li>
    <li>
      <a href="../articles/panel_data.html">Panel Data</a>
    </li>
    <li>
      <a href="../articles/results.html">Presenting Results</a>
    </li>
    <li>
      <a href="../articles/screening.html">Unit Screening</a>
    </li>
    <li>
      <a href="../articles/sensitivity.html">Sensitivity Analysis</a>
    </li>
    <li>
      <a href="../articles/treat.html">Outlier Treatment</a>
    </li>
    <li>
      <a href="../articles/v1.html">Changes from COINr v1.0.0</a>
    </li>
    <li>
      <a href="../articles/visualisation.html">Visualisation</a>
    </li>
    <li>
      <a href="../articles/weights.html">Weights</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/bluefoxr/COINr/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Check iMeta</h1>
    <small class="dont-index">Source: <a href="https://github.com/bluefoxr/COINr/blob/HEAD/R/new_coin.R" class="external-link"><code>R/new_coin.R</code></a></small>
    <div class="hidden name"><code>check_iMeta.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Checks the format of <code>iMeta</code> input to <code><a href="new_coin.html">new_coin()</a></code>. This performs a series of thorough checks to make sure
that <code>iMeta</code> agrees with the specifications. This also includes checks to make sure the structure makes
sense, there are no duplicates, and other things. <code>iMeta</code> must pass this check to build a new coin.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">check_iMeta</span><span class="op">(</span><span class="va">iMeta</span>, quietly <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>iMeta</dt>
<dd><p>A data frame of indicator metadata. See details.</p></dd>


<dt>quietly</dt>
<dd><p>Set <code>TRUE</code> to suppress message if input is valid.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>Message if everything ok, else error messages.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>Required columns for <code>iMeta</code> are:</p><ul><li><p><code>Level</code>: Level in aggregation, where 1 is indicator level, 2 is the level resulting from aggregating
indicators, 3 is the result of aggregating level 2, and so on. Set to <code>NA</code> for entries that are not included
in the index (groups, denominators, etc).</p></li>
<li><p><code>iCode</code>: Indicator code, alphanumeric. Must not start with a number.</p></li>
<li><p><code>Parent</code>: Group (<code>iCode</code>) to which indicator/aggregate belongs in level immediately above.
Each entry here should also be found in <code>iCode</code>. Set to <code>NA</code> only
for the highest (Index) level (no parent), or for entries that are not included
in the index (groups, denominators, etc).</p></li>
<li><p><code>Direction</code>: Numeric, either -1 or 1</p></li>
<li><p><code>Weight</code>: Numeric weight, will be rescaled to sum to 1 within aggregation group. Set to <code>NA</code> for entries that are not included
in the index (groups, denominators, etc).</p></li>
<li><p><code>Type</code>: The type, corresponding to <code>iCode</code>. Can be either <code>Indicator</code>, <code>Aggregate</code>, <code>Group</code>, <code>Denominator</code>,
or <code>Other</code>.</p></li>
</ul><p>Optional columns that are recognised in certain functions are:</p><ul><li><p><code>iName</code>: Name of the indicator: a longer name which is used in some plotting functions.</p></li>
<li><p><code>Unit</code>: the unit of the indicator, e.g. USD, thousands, score, etc. Used in some plots if available.</p></li>
<li><p><code>Target</code>: a target for the indicator. Used if normalisation type is distance-to-target.</p></li>
</ul><p>The <code>iMeta</code> data frame essentially gives details about each of the columns found in <code>iData</code>, as well as
details about additional data columns eventually created by aggregating indicators. This means that the
entries in <code>iMeta</code> must include <em>all</em> columns in <code>iData</code>, <em>except</em> the three special column names: <code>uCode</code>,
<code>uName</code>, and <code>Time</code>. In other words, all column names of <code>iData</code> should appear in <code>iMeta$iCode</code>, except
the three special cases mentioned. The <code>iName</code> column optionally can be used to give longer names to each indicator
which can be used for display in plots.</p>
<p><code>iMeta</code> also specifies the structure of the index, by specifying the parent of each indicator and aggregate.
The <code>Parent</code> column must refer to entries that can be found in <code>iCode</code>. Try <code>View(ASEM_iMeta)</code> for an example
of how this works.</p>
<p><code>Level</code> is the "vertical" level in the hierarchy, where 1 is the bottom level (indicators), and each successive
level is created by aggregating the level below according to its specified groups.</p>
<p><code>Direction</code> is set to 1 if higher values of the indicator should result in higher values of the index, and
-1 in the opposite case.</p>
<p>The <code>Type</code> column specifies the type of the entry: <code>Indicator</code> should be used for indicators at level 1.
<code>Aggregate</code> for aggregates created by aggregating indicators or other aggregates. Otherwise set to <code>Group</code>
if the variable is not used for building the index but instead is for defining groups of units. Set to
<code>Denominator</code> if the variable is to be used for scaling (denominating) other indicators. Finally, set to
<code>Other</code> if the variable should be ignored but passed through. Any other entries here will cause an error.</p>
<p>Note: this function requires the columns above as specified, but extra columns can also be added without
causing errors.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="fu">check_iMeta</span><span class="op">(</span><span class="va">ASEM_iMeta</span><span class="op">)</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> iMeta checked and OK.</span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by William Becker.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.4.</p>
</div>

      </footer></div>

  


  

  </body></html>

